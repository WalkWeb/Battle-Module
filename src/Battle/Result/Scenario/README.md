
# Scenario

Scenario – это класс, который генерирует json данных, на основе которых будет анимирована анимация боя.

_Это первый, набросочный вариант документации по параметрам. В будущем улучшу читаемость._

## Описание параметров

```js
{
    "step": 3, // Номер текущего раунда
    "attack": 13, // Номер текущего хода
    "effects": [ // Массив параметров анимаций в данном ходе
        {
            "user_id": "f7e84eab-e4f6-469f-b0e3-f5f965f9fbce", // id юнита, который делает ход
            "class": "d_attack", // Анимация хода: "d_attack" – атака юнита в левой воманде, "d_attack_s2" – атака юнита в правой команде, "d_block" – анимация блока 
            "unit_cons_bar2": 0, // Заполненность шкалы концентрации в %
            "unit_rage_bar2": 49, // Заполненность шкалы ярости в %
            "unit_effects": [ // Массив эффектов которые находятся на юните
                {
                    "icon": "/images/icons/ability/232.png", // Иконка эффекта
                    "duration": "8" // Длительность эффекта
                }
            ],
            "targets": [ // Массив параметров анимаций целей (например, получающих урон)
                {
                    "type": "change", // Тип анимации "change" – анимация существующего юнита, "summon" – призыв нового юнита в бой
                    "user_id": "e53b7edd-a4b5-49c4-81a2-050a1b7ecbea", // id юнита цели
                    "hp": 464, // Здоровье цели
                    "thp": 780, // Общее здоровье цели
                    "hp_bar_class": "unit_hp_bar", // Стили фона шкалы здоровья. "unit_hp_bar" – для здоровья, "unit_hp_bar_mana" – для маны (когда юнит имеет эффект магический барьер)
                    "hp_bar_class2": "unit_hp_bar2", // Стили шкалы здоровья. "unit_hp_bar" – для здоровья, "unit_hp_bar_mana" – для маны
                    "recdam": "-70", // Полученный урон
                    "unit_hp_bar_width": 59, // Длина шкалы здоровья в %
                    "unit_cons_bar2": 20, // Заполненность шкалы концентрации в %
                    "unit_rage_bar2": 100, // Заполненность шкалы ярости в %
                    "ava": "unit_ava_red", // Анимация на аватар. "unit_ava_red" – анимация удара, "unit_ava_effect_damage" – анимация удара от эффекта, "unit_ava_green" –  анимация лечения 
                    "avas": "unit_ava_blank", // Стили поверх аватара. "unit_ava_blank" – базовый вариант, "unit_ava_dead" – череп поверх аватара, для мертвых юнитов
                    "unit_effects": [] // Массив эффектов которые находятся на юните
                }
            ]
        }
    ]
}
```
